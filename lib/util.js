"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function _isUTF8(charset) {
    if (!charset) {
        return true;
    }
    charset = charset.toLowerCase();
    return charset === 'utf8' || charset === 'utf-8';
}
exports._isUTF8 = _isUTF8;
function encodeBuffer(buf) {
    let encodeStr = '';
    for (let i = 0; i < buf.length; i++) {
        // @ts-ignore
        encodeStr += '%' + buf[i].toString('16');
    }
    encodeStr = encodeStr.toUpperCase();
    return encodeStr;
}
exports.encodeBuffer = encodeBuffer;
function decodeToArray(str) {
    let bytes = [];
    for (let i = 0; i < str.length;) {
        if (str[i] === '%') {
            i++;
            bytes.push(parseInt(str.substring(i, i + 2), 16));
            i += 2;
        }
        else {
            bytes.push(str.charCodeAt(i));
            i++;
        }
    }
    return bytes;
}
exports.decodeToArray = decodeToArray;
function isASCII(str) {
    return (/^[\x00-\x7F]*$/).test(str);
}
exports.isASCII = isASCII;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInV0aWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxTQUFnQixPQUFPLENBQUMsT0FBZTtJQUV0QyxJQUFJLENBQUMsT0FBTyxFQUNaO1FBQ0MsT0FBTyxJQUFJLENBQUM7S0FDWjtJQUNELE9BQU8sR0FBRyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDaEMsT0FBTyxPQUFPLEtBQUssTUFBTSxJQUFJLE9BQU8sS0FBSyxPQUFPLENBQUM7QUFDbEQsQ0FBQztBQVJELDBCQVFDO0FBRUQsU0FBZ0IsWUFBWSxDQUFDLEdBQXNCO0lBRWxELElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUNuQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFDbkM7UUFDQyxhQUFhO1FBQ2IsU0FBUyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3pDO0lBQ0QsU0FBUyxHQUFHLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNwQyxPQUFPLFNBQVMsQ0FBQztBQUNsQixDQUFDO0FBVkQsb0NBVUM7QUFFRCxTQUFnQixhQUFhLENBQUMsR0FBVztJQUV4QyxJQUFJLEtBQUssR0FBYSxFQUFFLENBQUM7SUFDekIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQzlCO1FBQ0MsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUNsQjtZQUNDLENBQUMsRUFBRSxDQUFDO1lBQ0osS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDbEQsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNQO2FBRUQ7WUFDQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5QixDQUFDLEVBQUUsQ0FBQztTQUNKO0tBQ0Q7SUFDRCxPQUFPLEtBQUssQ0FBQTtBQUNiLENBQUM7QUFsQkQsc0NBa0JDO0FBRUQsU0FBZ0IsT0FBTyxDQUFDLEdBQVc7SUFFbEMsT0FBTyxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3JDLENBQUM7QUFIRCwwQkFHQyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGZ1bmN0aW9uIF9pc1VURjgoY2hhcnNldDogc3RyaW5nKVxue1xuXHRpZiAoIWNoYXJzZXQpXG5cdHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRjaGFyc2V0ID0gY2hhcnNldC50b0xvd2VyQ2FzZSgpO1xuXHRyZXR1cm4gY2hhcnNldCA9PT0gJ3V0ZjgnIHx8IGNoYXJzZXQgPT09ICd1dGYtOCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVCdWZmZXIoYnVmOiBCdWZmZXIgfCBudW1iZXJbXSlcbntcblx0bGV0IGVuY29kZVN0ciA9ICcnO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGJ1Zi5sZW5ndGg7IGkrKylcblx0e1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRlbmNvZGVTdHIgKz0gJyUnICsgYnVmW2ldLnRvU3RyaW5nKCcxNicpO1xuXHR9XG5cdGVuY29kZVN0ciA9IGVuY29kZVN0ci50b1VwcGVyQ2FzZSgpO1xuXHRyZXR1cm4gZW5jb2RlU3RyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlVG9BcnJheShzdHI6IHN0cmluZylcbntcblx0bGV0IGJ5dGVzOiBudW1iZXJbXSA9IFtdO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7KVxuXHR7XG5cdFx0aWYgKHN0cltpXSA9PT0gJyUnKVxuXHRcdHtcblx0XHRcdGkrKztcblx0XHRcdGJ5dGVzLnB1c2gocGFyc2VJbnQoc3RyLnN1YnN0cmluZyhpLCBpICsgMiksIDE2KSk7XG5cdFx0XHRpICs9IDI7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKTtcblx0XHRcdGkrKztcblx0XHR9XG5cdH1cblx0cmV0dXJuIGJ5dGVzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FTQ0lJKHN0cjogc3RyaW5nKVxue1xuXHRyZXR1cm4gKC9eW1xceDAwLVxceDdGXSokLykudGVzdChzdHIpO1xufVxuIl19